################################################################################
# AIRIA-BEYOND env template
#
# 使い方:
# 1) このファイルをコピーして .env を作成
# 2) 下の「Quick Start」から 1 つ選んで必要な値を埋める
#
# 重要:
# - OPENAI_API_KEY や各種キーは「Backend(API)」が読む値です。
# - VITE_* は「Frontend(web)」のビルド時に読む値です。
################################################################################

#######################################
# 0) Quick Start（どれか1つ）
#######################################

# --- A) OpenAI + ComfyUI（推奨。高品質で一番ラク） ---
# OPENAI_API_KEY=your_openai_api_key_here
IMAGE_PROVIDER=comfyui
COMFYUI_BASE_URL=http://127.0.0.1:8188

# --- B) Ollama(ローカルLLM) + ComfyUI（OpenAI無し） ---
# LLM_PROVIDER=ollama
# OLLAMA_BASE_URL=http://127.0.0.1:11434
# OLLAMA_MODEL=qwen2.5:7b-instruct
# IMAGE_PROVIDER=comfyui
# COMFYUI_BASE_URL=http://127.0.0.1:8188

# --- C) LLMを完全に無効化（安全運用/検証用。品質は下がる） ---
# DISABLE_LLM_ANALYSIS=true


#######################################
# 1) Backend(API) - LLM共通
#######################################

# OpenAI
# Get your API token from https://platform.openai.com/api-keys
# OPENAI_API_KEY=your_openai_api_key_here

# LLM provider preference for non-music features (openai|ollama)
# LLM_PROVIDER=openai


#######################################
# 2) Ollama（ローカルLLM）
#######################################

# OLLAMA_BASE_URL=http://127.0.0.1:11434
# OLLAMA_MODEL=qwen2.5:7b-instruct
# OLLAMA_MODEL_CHAT=qwen2.5:7b-instruct
# OLLAMA_MODEL_BRIEF=qwen2.5:7b-instruct
# OLLAMA_MODEL_MUSIC=qwen2.5:7b-instruct


#######################################
# 3) Image - ComfyUI（画像生成）
#######################################

# Provider
# IMAGE_PROVIDER=comfyui

# 必須（ComfyUIのURL）
COMFYUI_BASE_URL=http://127.0.0.1:8188

# 推奨（品質寄りのデフォルト。必要なら上書き）
# COMFYUI_CHECKPOINT=sdxl_base_1.0.safetensors
# COMFYUI_WIDTH=1024
# COMFYUI_HEIGHT=1024
# COMFYUI_STEPS=30
# COMFYUI_CFG=7.0
# COMFYUI_SAMPLER=dpmpp_2m
# COMFYUI_SCHEDULER=karras

# 安定化（タイムアウト/ポーリング）
# COMFYUI_TIMEOUT_MS=240000
# COMFYUI_POLL_INTERVAL_MS=750
# COMFYUI_HTTP_TIMEOUT_MS=20000

# Art Director（画像プロンプトの高品質化：推奨）
# IMAGE_ART_DIRECTOR_ENABLED=true
# IMAGE_PROMPT_LLM_PROVIDER=openai|ollama
# OPENAI_MODEL_IMAGE_PROMPT=gpt-4o-mini
# IMAGE_PROMPT_LLM_TEMPERATURE=0.7
# IMAGE_PROMPT_LLM_MAX_TOKENS=800

# 追加の画質強化（モデルがComfyUIホストに存在する場合のみ）
# COMFYUI_LORAS=[{"name":"oil_painting_xl.safetensors","strength_model":0.75,"strength_clip":0.6}]
# COMFYUI_HIRES_ENABLED=true
# COMFYUI_HIRES_SCALE=1.5
# COMFYUI_HIRES_DENOISE=0.35
# COMFYUI_HIRES_STEPS=12
# COMFYUI_HIRES_UPSCALE_METHOD=nearest-exact
# COMFYUI_REFINER_CHECKPOINT=sdxl_refiner_1.0.safetensors
# COMFYUI_REFINER_DENOISE=0.22
# COMFYUI_REFINER_STEPS=12
# COMFYUI_IPADAPTER_ENABLED=true
# COMFYUI_IPADAPTER_MODEL=ip-adapter_sdxl_vit-h.safetensors
# COMFYUI_CLIP_VISION_MODEL=CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors
# COMFYUI_IPADAPTER_WEIGHT=0.65
# COMFYUI_IPADAPTER_START_AT=0.0
# COMFYUI_IPADAPTER_END_AT=1.0
# COMFYUI_IPADAPTER_REFERENCE_URL=https://.../reference.jpg


#######################################
# 4) Music（音楽生成）
#######################################

# 音楽だけLLM設定を独立させたい時（defaults to LLM_PROVIDER）
# MUSIC_LLM_PROVIDER=openai|ollama

# OpenAI music model
# OPENAI_MODEL_MUSIC=gpt-4o-mini

# 生成の基本設定
# LLM_TEMPERATURE_MUSIC=0.65
# MUSIC_LLM_MAX_TOKENS=2600

# 音楽構造の生成に許す時間（長め推奨）
# MUSIC_STRUCTURE_TIMEOUT_MS=120000

# 高品質モード（2nd-pass editorで整合性/カデンツ/動機を強化）
# MUSIC_HIGH_QUALITY=true
# MUSIC_STRUCTURE_EDITOR_ENABLED=true
# MUSIC_STRUCTURE_EDITOR_PROVIDER=openai|ollama
# MUSIC_LLM_EDITOR_TEMPERATURE=0.25
# MUSIC_LLM_EDITOR_MAX_TOKENS=3000


#######################################
# 5) Debug
#######################################

# Debug: write request/response payloads under .debug/ai
# DEBUG_AI=1


#######################################
# 6) Frontend(web) - Vite
#######################################

# フロントが叩くAPIのURL（Viteは VITE_ プレフィックス必須）
VITE_API_BASE_URL=https://airia-beyond.onrender.com


#######################################
# 7) Auth（OAuth）
#######################################

# Backend verification (Render)
GOOGLE_CLIENT_ID=your_google_client_id_here
APPLE_CLIENT_ID=your_apple_service_id_here

# Optional (DEV only): enable password endpoints /api/auth/login & /register
AUTH_ALLOW_PASSWORD=false

# Frontend (Vite)
VITE_GOOGLE_CLIENT_ID=your_google_client_id_here
VITE_APPLE_CLIENT_ID=your_apple_service_id_here

# Optional: Apple exact redirect URI (recommended)
# VITE_APPLE_REDIRECT_URI=https://akito-aki.github.io/AIRIA-BEYOND/


#######################################
# 8) Email notifications（任意）
#######################################

# No emails are sent unless EMAIL_NOTIFICATIONS_ENABLED=true AND a provider is configured.
EMAIL_NOTIFICATIONS_ENABLED=false
APP_PUBLIC_URL=https://akito-aki.github.io/AIRIA-BEYOND/
EMAIL_FROM=your_from_address_here

# Provider A: Resend
RESEND_API_KEY=your_resend_api_key_here

# Provider B: SMTP (example)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=username
# SMTP_PASS=password
# SMTP_SECURE=false


#######################################
# 9) Monitoring / Admin（任意）
#######################################

VITE_SENTRY_DSN=your_sentry_dsn_here
VITE_ENABLE_ANALYTICS=true

ADMIN_TOKEN=your_admin_token_here
