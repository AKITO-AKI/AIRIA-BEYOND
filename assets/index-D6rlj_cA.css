.toast-container{position:fixed;top:20px;right:20px;z-index:10000;display:flex;flex-direction:column;gap:10px;pointer-events:none}.toast{display:flex;align-items:center;gap:12px;padding:16px 20px;border-radius:16px;box-shadow:0 10px 24px #0000001f;min-width:300px;max-width:500px;pointer-events:auto}.toast-success{background:linear-gradient(135deg,#fffffff2,#d4af372e);border-left:4px solid rgba(212,175,55,.7);color:#1a1a1a}.toast-error{background:linear-gradient(135deg,#f5f5f5,#e6e6e6);border-left:4px solid rgba(0,0,0,.4);color:#1a1a1a}.toast-info{background:linear-gradient(135deg,#f5f5f5,#e4e4e4);border-left:4px solid rgba(0,0,0,.3);color:#1a1a1a}.toast-icon{font-size:18px;font-weight:700;flex-shrink:0}.toast-message{flex:1;font-size:14px;line-height:1.4}@keyframes slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}@keyframes slideOut{0%{transform:translate(0);opacity:1}to{transform:translate(400px);opacity:0}}@media (max-width: 768px){.toast-container{left:20px;right:20px}.toast{min-width:auto;max-width:none}}.room-navigator{width:100%;height:100vh;overflow:hidden;position:relative;background:var(--bg-primary)}.room-indicators{position:fixed;top:20px;left:50%;transform:translate(-50%);display:flex;gap:10px;z-index:100;background:#ffffff6b;backdrop-filter:blur(14px);padding:6px 10px;border-radius:50px;border:1px solid rgba(0,0,0,.06);box-shadow:none}.room-indicator{background:transparent;border:1px solid transparent;border-radius:20px;padding:6px 10px;cursor:pointer;transition:background .15s ease,color .15s ease,opacity .15s ease;font-size:14px;color:var(--text-secondary);font-weight:500;opacity:.55;position:relative}.room-indicator:hover{background:#0000000a;opacity:.8}.room-indicator.active{background:transparent;border-color:transparent;color:var(--text-primary);opacity:1}.room-indicator.active:after{content:"";position:absolute;left:50%;bottom:-5px;width:4px;height:4px;border-radius:999px;transform:translate(-50%);background:#0000008c}.room-indicator-label{display:block;white-space:nowrap}.rooms-container{display:flex;height:100%;width:100%;will-change:transform;cursor:grab;transition:transform .8s cubic-bezier(.4,0,.2,1)}.rooms-container:active{cursor:grabbing}.room{min-width:100%;height:100%;display:flex;align-items:flex-start;justify-content:center;flex-shrink:0;background:var(--bg-primary);position:relative}.room-content{width:100%;max-width:1040px;padding:clamp(56px,7vh,84px) 24px clamp(28px,5vh,56px);display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;text-align:left;position:relative}.room-navigator.indicators-hidden .room-content{padding-top:40px}.room-title{font-size:clamp(28px,4.2vw,44px);margin:0 0 10px;color:var(--text-primary);font-weight:650;letter-spacing:.02em}.room-subtitle{font-size:clamp(14px,2.4vw,18px);color:var(--text-secondary);margin:0 0 32px;font-weight:400}.room-placeholder{width:100%;max-width:600px;height:300px;border:1px dashed rgba(0,0,0,.2);border-radius:12px;display:flex;align-items:center;justify-content:center;color:#00000059;font-size:18px;background:#fff6}@media (prefers-reduced-motion: reduce){.rooms-container,.room-indicator{transition:none!important}}.onboarding-form{width:100%;max-width:600px;margin:0 auto;padding:20px}.onboarding-header{text-align:center;margin-bottom:40px}.blend-text{font-size:clamp(28px,5vw,36px);font-weight:600;letter-spacing:.2px;margin:0 0 16px;color:var(--text-primary)}.onboarding-subtitle{font-size:16px;color:var(--text-secondary);margin:0 0 30px;line-height:1.6}.progress-bar{width:100%;height:6px;background:#00000014;border-radius:3px;overflow:hidden;margin-bottom:12px}.progress-fill{height:100%;background:#000000b3;transition:width .3s ease;border-radius:3px}.step-indicator{font-size:14px;color:var(--text-secondary);margin:0}.question-container{min-height:400px;margin-bottom:30px}.question-step{animation:fadeIn .3s ease-in}.question-title{font-size:clamp(20px,4vw,24px);color:#000000e6;margin:0 0 12px;font-weight:500}.question-description{font-size:15px;color:#0009;margin:0 0 30px;line-height:1.6}.form-group{margin-bottom:24px}.form-group label{display:block;margin-bottom:8px;font-size:14px;font-weight:500;color:#000000b3}.form-select,.form-input,.form-textarea{width:100%;padding:12px 16px;border:2px solid rgba(0,0,0,.15);border-radius:8px;background:#ffffffe6;color:#000000e6;font-size:16px;font-family:inherit;transition:all .2s ease;outline:none}.form-select:focus,.form-input:focus,.form-textarea:focus{border-color:#4a90e2cc;background:#fff;box-shadow:0 0 0 3px #4a90e21a}.form-select:hover,.form-input:hover,.form-textarea:hover{border-color:#00000040}.form-textarea{resize:vertical;min-height:80px;line-height:1.6}.form-input::placeholder,.form-textarea::placeholder{color:#0006}.button-group{display:flex;gap:12px;justify-content:space-between;margin-top:30px}.button-group .btn{flex:1;padding:14px 24px;font-size:16px;font-weight:500;border:2px solid rgba(0,0,0,.2);border-radius:8px;background:#ffffffe6;color:#000000e6;cursor:pointer;transition:all .2s ease;outline:none}.button-group .btn:hover:not(:disabled){background:#0000000d;border-color:#0000004d;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.button-group .btn:active:not(:disabled){transform:translateY(0)}.button-group .btn:disabled{opacity:.4;cursor:not-allowed}.button-group .btn-primary{background:#4a90e2e6;border-color:#4a90e2e6;color:#fff}.button-group .btn-primary:hover:not(:disabled){background:#4a90e2;border-color:#4a90e2}.button-group .btn-success{background:#4caf50e6;border-color:#4caf50e6;color:#fff}.button-group .btn-success:hover:not(:disabled){background:#4caf50;border-color:#4caf50}.button-group .btn-secondary{background:#ffffffe6;border-color:#0003;color:#000000b3}@media (max-width: 480px){.onboarding-form{padding:16px}.button-group{flex-direction:column}.button-group .btn{width:100%}}@media (prefers-reduced-motion: reduce){.question-step{animation:none}.progress-fill,.button-group .btn,.form-select,.form-input,.form-textarea{transition:none}}.onboarding-complete{text-align:center;padding:40px 20px;max-width:600px;margin:0 auto}.completion-message{font-size:16px;color:#000000b3;line-height:1.8;margin:24px 0 40px}.onboarding-complete .button-group{justify-content:center;max-width:500px;margin:0 auto}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:40vh;padding:40px;text-align:center}.empty-icon{position:relative;width:72px;height:72px;margin-bottom:24px;opacity:0;animation:fadeIn .8s ease .2s forwards;display:flex;align-items:center;justify-content:center;color:#1a1a1a}.empty-title{font-size:24px;font-weight:600;margin-bottom:12px;opacity:0;animation:fadeIn .8s ease .4s forwards;color:#1a1a1a}.empty-description{font-size:16px;color:#0000008c;margin-bottom:32px;opacity:0;animation:fadeIn .8s ease .6s forwards;max-width:500px}.empty-cta-button{padding:12px 24px;font-size:16px;background:#d4af372e;color:#1a1a1a;border:1px solid rgba(212,175,55,.45);border-radius:999px;cursor:pointer;opacity:0;animation:fadeIn .8s ease .8s forwards,float 3s ease infinite;transition:transform .3s ease,box-shadow .3s ease}.empty-cta-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #d4af3766}.empty-cta-button:active{transform:translateY(0)}.empty-cta-button:focus-visible{outline:2px solid #D4AF37;outline-offset:4px}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes float{0%,to{transform:translateY(0)}50%{transform:translateY(-4px)}}.gallery-room{width:100%;max-width:100%}.bookshelf-container{width:100%;max-width:1200px;margin:0 auto;padding:18px 0 8px;display:flex;flex-direction:column;gap:14px;min-height:0}.gallery-shelf-stage{position:relative;min-height:420px;flex:1;min-height:0}.gallery-shelf-stage.empty{padding-bottom:30px}.gallery-actionbar{margin-top:0;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 16px;border:1px solid rgba(0,0,0,.12);border-radius:14px;background:#ffffffe6}.gallery-selection{min-width:0}.gallery-selection-label{font-size:12px;letter-spacing:.08em;text-transform:uppercase;color:#00000080}.gallery-selection-value{margin-top:6px;font-size:16px;color:#000000d9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:46vw}.gallery-actions{display:flex;align-items:center;gap:10px}@media (max-width: 640px){.gallery-actionbar{flex-direction:column;align-items:stretch}.gallery-selection-value{max-width:100%}.gallery-actions,.gallery-actions .btn{width:100%}}.empty-shelf-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.empty-shelf-overlay .empty-state{pointer-events:auto;max-width:420px;min-height:auto;padding:32px 28px}.empty-icon-shape{width:40px;height:40px;border-radius:12px;border:1px solid rgba(0,0,0,.4);transform:rotate(45deg);background:#d4af3726;box-shadow:0 0 18px #d4af3740;display:inline-block}.bookshelf{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:24px;padding:40px 30px 50px;background:linear-gradient(180deg,#fffffff0,#f6f6f6fa,#f0f0f0fa);border-radius:16px;box-shadow:0 12px 36px #00000014,0 2px 8px #0000000d,inset 0 1px #fffc,inset 0 -4px 12px #00000008;position:relative;transform-style:preserve-3d;transform:rotateX(2deg);border:1px solid rgba(255,255,255,.8)}.bookshelf:after{content:"";position:absolute;inset:-2px;background:linear-gradient(135deg,#fff9,#f0f0f04d,#fff9);border-radius:16px;z-index:-1;filter:blur(8px);opacity:.7}.bookshelf:before{content:"";position:absolute;bottom:-8px;left:8px;right:-8px;height:16px;background:linear-gradient(90deg,#00000026,#00000014 30% 70%,#00000026);border-radius:0 0 16px 16px;transform:perspective(800px) rotateX(-45deg);transform-origin:top;filter:blur(3px)}.book-spine{height:240px;background:linear-gradient(to right,#fffffffa,#f8f8f8f5 20%,#f0f0f0f0 80%,#e8e8e8e6);border:1px solid rgba(0,0,0,.08);border-left:3px solid rgba(0,0,0,.06);border-radius:6px 12px 12px 6px;cursor:pointer;position:relative;transition:all .4s cubic-bezier(.34,1.56,.64,1);box-shadow:4px 0 8px #00000014,8px 4px 16px #0000000f,inset -2px 0 4px #0000000a,inset 1px 0 #ffffffe6;transform-style:preserve-3d;transform:translateZ(0) rotateY(-8deg) translate(4px);overflow:hidden}.book-spine:after{content:"";position:absolute;left:-6px;top:0;bottom:0;width:6px;background:linear-gradient(to bottom,#e6e6e6f2,#dcdcdce6,#e6e6e6f2);transform:rotateY(-90deg);transform-origin:right;box-shadow:inset -1px 0 2px #0000001a}.book-spine:hover{transform:translateZ(20px) rotateY(-12deg) translate(-8px) translateY(-12px);box-shadow:8px 2px 16px #0000001f,16px 8px 32px #00000014,0 0 20px #d4af3740,inset -2px 0 6px #0000000d,inset 1px 0 #fff;border-color:#d4af3773}.book-spine:active{transform:translateZ(10px) rotateY(-10deg) translate(-4px) translateY(-6px)}.book-spine:before{content:"";position:absolute;left:0;top:0;bottom:0;width:6px;background:linear-gradient(180deg,#d4af374d,#d4af3780 30%,#d4af37b3,#d4af3780 70%,#d4af374d);border-radius:6px 0 0 6px;box-shadow:inset 1px 0 #ffffff80,1px 0 4px #d4af3740}.book-spine-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-90deg);width:220px;text-align:center;z-index:2;text-shadow:0 1px 2px rgba(255,255,255,.8)}.book-spine-title{font-size:18px;font-weight:600;color:#000000d9;margin-bottom:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.5px}.book-spine-date{font-size:13px;color:#00000073;font-weight:400;letter-spacing:.5px}.book-spine-badge{position:absolute;top:12px;right:12px;padding:4px 10px;background:#d4af371f;border:1px solid rgba(212,175,55,.3);border-radius:12px;font-size:10px;font-weight:600;color:#000000b3;text-transform:uppercase;letter-spacing:.5px;transform:rotate(90deg);transform-origin:center;white-space:nowrap}.book-spine-preview{position:absolute;inset:0;opacity:.08;z-index:1;mix-blend-mode:multiply}.book-spine-preview img{width:100%;height:100%;object-fit:cover;filter:grayscale(.7) blur(1px)}@media (max-width: 768px){.bookshelf{grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:16px;padding:30px 20px 40px}.book-spine{height:200px}.book-spine-content{width:180px}.book-spine-title{font-size:16px}.book-spine-date{font-size:12px}}@media (max-width: 480px){.bookshelf{grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:12px}.book-spine{height:160px}.book-spine-content{width:140px}}@media (prefers-reduced-motion: reduce){.gallery-room{perspective:none}.bookshelf{transform:none}.bookshelf:after{display:none}.book-spine,.book-spine:hover,.book-spine:active{transition:none;transform:none}.book-spine:after{display:none}}.explainability-panel{background:var(--surface-paper);border:1px solid var(--border-color);border-radius:12px;padding:20px;margin-top:20px;box-shadow:0 8px 20px #0000000a;backdrop-filter:blur(12px)}.explainability-title{font-size:1.2em;margin-bottom:15px;color:var(--text-primary);border-bottom:1px solid var(--border-color);padding-bottom:10px}.explainability-hint{color:var(--text-secondary);font-style:italic}.explainability-section{margin-bottom:20px}.section-title{font-size:1em;color:var(--text-secondary);margin-bottom:10px;font-weight:600}.timeline{display:flex;flex-direction:column;gap:8px}.timeline-item{display:flex;justify-content:space-between;padding:8px 12px;background:#ffffffb3;border-radius:8px;border:1px solid rgba(0,0,0,.04)}.timeline-label{font-weight:600;color:var(--text-primary)}.timeline-value{color:var(--text-secondary);font-size:.9em}.analysis-explanation{display:flex;flex-direction:column;gap:12px}.ir-values{display:flex;flex-direction:column;gap:10px}.ir-value{display:flex;align-items:center;gap:10px}.ir-label{font-weight:600;min-width:80px;color:var(--text-primary);font-size:.9em}.ir-gauge{flex:1;height:20px;background:#0000000a;border-radius:10px;overflow:hidden;position:relative}.ir-gauge-fill{height:100%;border-radius:10px;transition:width .3s ease}.ir-number{min-width:50px;text-align:right;color:var(--text-secondary);font-size:.9em;font-family:monospace}.motif-tags{padding:10px;background:#ffffffb3;border-radius:8px;color:var(--text-primary);font-size:.95em;border:1px solid rgba(0,0,0,.04)}.reasoning-text{padding:12px;background:#ffffffb8;border-left:3px solid rgba(0,0,0,.15);border-radius:8px;color:var(--text-primary);line-height:1.5;font-size:.95em}.image-details,.music-details{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin-top:10px}.detail-item{display:flex;gap:8px;padding:8px 12px;background:#ffffffb3;border-radius:8px;border:1px solid rgba(0,0,0,.04)}.detail-label{font-weight:600;color:var(--text-secondary);font-size:.9em}.detail-value{color:var(--text-primary);font-size:.9em}.error-section{border-left:3px solid rgba(200,80,80,.6)}.errors-list{display:flex;flex-direction:column;gap:8px}.error-item{padding:10px;background:#c8505014;border-radius:8px;color:var(--text-primary);font-size:.9em}.error-stage{font-weight:600;margin-right:8px;color:#c85050cc}.error-message{color:var(--text-secondary)}@media (max-width: 768px){.explainability-panel{padding:15px}.image-details,.music-details{grid-template-columns:1fr}}.album-room{width:100%;max-width:100%}.album-header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:30px}.album-header-left{min-width:0}.album-header-actions{display:flex;align-items:center;gap:10px}.back-to-gallery-btn{padding:10px 20px;border:1px solid rgba(0,0,0,.18);border-radius:999px;background:var(--surface-porcelain);color:var(--text-secondary);cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;box-shadow:inset 0 1px #fffc}.back-to-gallery-btn:hover{background:#d4af371f;border-color:#d4af3773;transform:translate(-2px)}.album-title{font-size:clamp(32px,6vw,48px);margin:0;color:#000000e6;font-weight:600;letter-spacing:.02em}.album-subtitle{margin:10px 0 0;font-size:14px;color:#0009}.album-empty{text-align:center;padding:60px 20px;background:#00000005;border:1px dashed rgba(0,0,0,.12);border-radius:12px}.album-empty p{color:#00000080;margin:8px 0}.album-empty-hint{font-size:14px;color:#0006}.album-details{display:grid;grid-template-columns:1fr 1fr;gap:40px;max-width:1200px;margin:0 auto}.album-image-container{position:relative;background:var(--surface-porcelain);padding:20px;border-radius:12px;box-shadow:0 8px 24px #00000014;border:1px solid var(--border-color);overflow:hidden}.album-image{position:relative;z-index:1;width:100%;height:auto;border-radius:8px;display:block;box-shadow:0 4px 12px #0000001a}.album-metadata{display:flex;flex-direction:column;gap:24px}.metadata-section{background:var(--surface-paper);padding:20px;border-radius:12px;border:1px solid var(--border-color);box-shadow:0 2px 8px #0000000a}.metadata-section-title{font-size:16px;font-weight:600;color:var(--text-secondary);margin:0 0 16px;padding-bottom:12px;border-bottom:1px solid rgba(0,0,0,.12)}.metadata-item{background:transparent;padding:12px 0;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.05);box-shadow:none;transition:background-color .3s ease;cursor:pointer}.metadata-item:hover{background:#d4af3714}.metadata-item:last-child{border-bottom:none}.metadata-label{display:block;font-size:12px;font-weight:600;color:#00000080;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px}.metadata-value{display:block;font-size:18px;color:#000000e6;font-weight:400}.metadata-hint{font-size:14px;color:#00000080;margin-left:8px;font-style:italic}.metadata-tags{font-size:14px;line-height:1.6}.album-actions{margin-top:12px}.regenerate-btn{width:100%;padding:16px 24px;border:1px solid rgba(212,175,55,.4);border-radius:12px;background:linear-gradient(135deg,#d4af372e,#d4af370f);color:#000c;cursor:pointer;font-size:16px;font-weight:600;transition:all .3s ease}.regenerate-btn:hover:not(:disabled){background:linear-gradient(135deg,#d4af3747,#d4af371f);border-color:#d4af378c;transform:translateY(-2px);box-shadow:0 4px 12px #d4af3733}.regenerate-btn:disabled{opacity:.6;cursor:not-allowed}.regenerate-error{margin-top:12px;padding:12px;background:#0000000a;border:1px solid rgba(0,0,0,.15);border-radius:8px;color:#000000b3;font-size:14px}.regenerate-success{margin-top:12px;padding:12px;background:#d4af371f;border:1px solid rgba(212,175,55,.3);border-radius:8px;color:#000000b3;font-size:14px}.metadata-id{font-size:12px;font-family:monospace;color:#0009;word-break:break-all}@media (max-width: 768px){.album-details{grid-template-columns:1fr;gap:24px}.album-header{flex-direction:column;align-items:stretch}.album-header-actions,.album-header-actions .btn,.album-header-actions .back-to-gallery-btn{width:100%}}@media (prefers-reduced-motion: reduce){.back-to-gallery-btn,.back-to-gallery-btn:hover{transition:none;transform:none}}.splash-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center,#fff,#fafafa);display:flex;align-items:center;justify-content:center;z-index:9999;cursor:pointer;animation:fadeIn 3s ease-in-out}@keyframes fadeIn{0%{opacity:0;background:#000}to{opacity:1}}.splash-content{text-align:center;position:relative}.golden-spiral-canvas{display:block;margin:0 auto 40px;opacity:0;animation:spiralFadeIn 2s ease-in-out forwards}@keyframes spiralFadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.splash-title{font-family:"Noto Serif JP",serif;font-size:48px;font-weight:400;color:#1a1a1a;margin:0 0 20px;letter-spacing:.1em}.splash-char{opacity:0;animation:charAppear .8s cubic-bezier(.4,0,.2,1) forwards}@keyframes charAppear{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.splash-subtitle{font-family:Noto Sans JP,sans-serif;font-size:18px;font-weight:300;color:#1a1a1a;margin:0;opacity:0}.splash-subtitle{animation:subtitleAppear 1s ease-in-out 5s forwards}@keyframes subtitleAppear{0%{opacity:0;transform:translateY(10px)}to{opacity:.8;transform:translateY(0)}}.splash-fade-out{animation:fadeOut 2s ease-in-out forwards}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.splash-screen-fade-out{opacity:0;transition:opacity .5s ease-out}@media (max-width: 768px){.splash-title{font-size:32px}.splash-subtitle{font-size:14px}.golden-spiral-canvas{width:200px!important;height:200px!important}}@media (prefers-reduced-motion: reduce){.splash-screen,.splash-char,.splash-subtitle,.golden-spiral-canvas{animation:none!important}.splash-screen{opacity:1}.splash-char,.splash-subtitle,.golden-spiral-canvas{opacity:1!important;transform:none!important}}.playback-controls{display:flex;align-items:center;justify-content:center;gap:12px;padding:8px 0}.playback-controls.expanded{gap:16px;padding:16px 0}.control-button{width:40px;height:40px;border-radius:50%;border:1px solid rgba(0,0,0,.12);background:#ffffffb3;color:var(--text-primary);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;position:relative;padding:0}.control-button:hover:not(:disabled){background:#d4af3726;transform:scale(1.1)}.control-button:active:not(:disabled){transform:scale(.95)}.control-button:disabled{opacity:.3;cursor:not-allowed}.control-button.primary{width:48px;height:48px;font-size:20px;background:#d4af3733;color:#000000d9;box-shadow:0 2px 8px #d4af3733}.playback-controls.expanded .control-button.primary{width:56px;height:56px;font-size:24px}.control-button.primary:hover:not(:disabled){background:#d4af374d;box-shadow:0 4px 12px #d4af374d}.control-button.secondary{width:36px;height:36px;font-size:16px}.control-button.active{background:#d4af3759;color:#000000e6}.repeat-indicator{position:absolute;top:-2px;right:-2px;font-size:10px;background:#d4af37;color:#fff;width:14px;height:14px;border-radius:50%;display:flex;align-items:center;justify-content:center}.control-icon-svg{width:20px;height:20px;stroke:currentColor;stroke-width:1.6;fill:currentColor;stroke-linecap:round;stroke-linejoin:round}.control-button.primary .control-icon-svg{width:22px;height:22px}@media (prefers-reduced-motion: reduce){.control-button,.control-button:hover,.control-button:active{transition:none;transform:none}}.seek-bar-container{display:flex;align-items:center;gap:12px;width:100%;padding:8px 0}.seek-time{font-size:11px;color:var(--text-secondary);min-width:40px;font-variant-numeric:tabular-nums}.seek-time.current{text-align:right}.seek-time.total{text-align:left}.seek-track{flex:1;height:4px;background:#0000001a;border-radius:2px;cursor:pointer;position:relative;transition:height .2s ease}.seek-track:hover{height:6px}.seek-progress{height:100%;border-radius:2px;position:relative;transition:width .1s linear;background:#d4af37d9}.seek-thumb{position:absolute;right:-8px;top:50%;transform:translateY(-50%);width:16px;height:16px;background:#d4af37f2;border-radius:50%;box-shadow:0 2px 4px #0003;opacity:0;transition:opacity .2s ease}.seek-track:hover .seek-thumb{opacity:1}@media (prefers-reduced-motion: reduce){.seek-track,.seek-progress,.seek-thumb{transition:none}}.volume-control{display:flex;align-items:center;gap:8px}.volume-control.expanded{gap:12px}.volume-icon{width:32px;height:32px;border:1px solid rgba(0,0,0,.1);background:#ffffffb3;color:var(--text-primary);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .2s ease;padding:0;border-radius:999px;position:relative}.volume-icon:hover{transform:scale(1.1)}.volume-icon:active{transform:scale(.95)}.volume-slider{width:100px;height:4px;background:#0000001a;border-radius:2px;cursor:pointer;position:relative;transition:height .2s ease}.volume-control.expanded .volume-slider{width:200px}.volume-slider:hover{height:6px}.volume-fill{height:100%;background:linear-gradient(90deg,#d4af3780,#d4af37f2);border-radius:2px;position:relative;transition:width .1s linear}.volume-thumb{position:absolute;right:-8px;top:50%;transform:translateY(-50%);width:16px;height:16px;background:#d4af37f2;border-radius:50%;box-shadow:0 2px 4px #0003;opacity:0;transition:opacity .2s ease}.volume-slider:hover .volume-thumb{opacity:1}@media (prefers-reduced-motion: reduce){.volume-icon,.volume-icon:hover,.volume-icon:active,.volume-slider,.volume-fill,.volume-thumb{transition:none;transform:none}}.volume-core{width:10px;height:10px;border-radius:3px;border:1px solid rgba(0,0,0,.45);background:#00000026;transform:rotate(45deg)}.volume-wave{position:absolute;border:1px solid rgba(0,0,0,.4);border-left:none;border-radius:0 10px 10px 0;width:10px;height:12px;right:5px;opacity:.9}.volume-wave.wave-1{width:8px;height:10px;right:7px}.volume-wave.wave-2{width:12px;height:14px;right:3px}.volume-icon.muted .volume-wave{opacity:.2;border-color:#00000040}.volume-icon.low .volume-wave.wave-2{opacity:.3}.mini-player-bar{position:fixed;bottom:24px;left:50%;width:min(1120px,calc(100% - 32px));height:64px;transform:translate(-50%);background:#ffffffd9;backdrop-filter:blur(28px);border:1px solid rgba(0,0,0,.12);border-radius:28px;box-shadow:0 16px 40px #0000001f;z-index:1000;transition:transform .3s ease,box-shadow .3s ease}.mini-player-bar.empty{opacity:.65}.mini-player-bar:hover{transform:translate(-50%) translateY(-2px);box-shadow:0 20px 40px #00000024}.mini-player-bar-content{display:flex;align-items:center;gap:12px;height:100%;padding:0 18px;max-width:1400px;margin:0 auto}.mini-player-thumbnail{width:48px;height:48px;border-radius:14px;object-fit:cover;box-shadow:0 4px 12px #0003;flex-shrink:0}.mini-player-info-section{min-width:160px;max-width:260px;flex-shrink:0}.mini-player-track-title{font-size:13px;font-weight:600;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mini-player-track-meta{font-size:11px;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}.mini-player-controls-section{flex:1;display:flex;flex-direction:column;gap:6px;min-width:0}.mini-player-volume-section,.mini-player-visualization-section{flex-shrink:0}.mini-player-expand-button{width:32px;height:32px;border-radius:50%;border:1px solid rgba(0,0,0,.2);background:#00000008;color:var(--text-secondary);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0;padding:0}.mini-player-expand-button:hover{background:#d4af3726;transform:scale(1.1)}.mini-player-expand-button:active{transform:scale(.95)}@media (max-width: 1024px){.mini-player-visualization-section{display:none}}@media (max-width: 768px){.mini-player-bar-content{padding:0 12px;gap:12px}.mini-player-info-section{min-width:120px;max-width:150px}.mini-player-volume-section{display:none}}@media (prefers-reduced-motion: reduce){.mini-player-bar,.mini-player-bar:hover,.mini-player-expand-button,.mini-player-expand-button:hover,.mini-player-expand-button:active{transition:none;transform:none}}.queue-preview{padding:16px 0;width:100%}.queue-label{font-size:12px;font-weight:600;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;margin-bottom:12px}.queue-items{display:flex;gap:12px;overflow-x:auto;padding-bottom:4px}.queue-items::-webkit-scrollbar{height:4px}.queue-items::-webkit-scrollbar-track{background:#ffffff1a;border-radius:2px}.queue-items::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:2px}.queue-item{display:flex;align-items:center;gap:8px;padding:8px;background:#ffffff0d;border-radius:8px;cursor:pointer;transition:all .2s ease;min-width:200px}.queue-item:hover{background:#ffffff1a;transform:translateY(-2px)}.queue-item:active{transform:translateY(0)}.queue-thumbnail{width:40px;height:40px;border-radius:4px;object-fit:cover;flex-shrink:0}.queue-info{flex:1;min-width:0}.queue-title{font-size:13px;font-weight:500;color:#ffffffe6;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.queue-duration{font-size:11px;color:#fff9;font-variant-numeric:tabular-nums}@media (prefers-reduced-motion: reduce){.queue-item,.queue-item:hover,.queue-item:active{transition:none;transform:none}}.motif-orbit{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.motif-tag{position:absolute;font-family:"Noto Serif JP",serif;font-size:18px;color:#ffffffe6;background:#ffffff1a;backdrop-filter:blur(10px);padding:8px 16px;border-radius:20px;border:1px solid rgba(255,255,255,.2);white-space:nowrap;text-shadow:0 2px 4px rgba(0,0,0,.3);box-shadow:0 2px 8px #0003;transition:opacity .3s ease,transform .3s ease;pointer-events:auto;cursor:default}.motif-tag:hover{opacity:1!important;transform:translate(-50%,-50%) scale(1.1)!important;background:#ffffff26}@media (prefers-reduced-motion: reduce){.motif-tag{transition:none}}.expanded-player-backdrop{position:fixed;inset:0;background:#0000008c;backdrop-filter:blur(10px);z-index:9998;animation:fadeIn .3s ease}.expanded-player-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:1200px;height:85vh;max-height:800px;background:var(--surface-glass-strong);backdrop-filter:blur(20px);border-radius:24px;border:1px solid rgba(0,0,0,.08);box-shadow:0 20px 60px #00000040;z-index:9999;overflow:hidden;animation:modalSlideIn .6s cubic-bezier(.4,0,.2,1)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes modalSlideIn{0%{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}.expanded-player-close,.expanded-player-minimize{position:absolute;top:20px;width:40px;height:40px;border-radius:50%;border:none;background:#00000014;color:var(--text-secondary);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;z-index:10;padding:0}.expanded-player-close{right:20px}.expanded-player-minimize{right:70px}.expanded-player-close:hover,.expanded-player-minimize:hover{background:#d4af3733;transform:scale(1.1)}.expanded-player-content{height:100%;overflow-y:auto;padding:40px 60px;display:flex;flex-direction:column;align-items:center;gap:32px}.expanded-player-album-section{display:flex;flex-direction:column;align-items:center;gap:24px}.expanded-player-album-container{position:relative;width:400px;height:400px}.expanded-player-album-image{width:100%;height:100%;border-radius:16px;object-fit:cover;box-shadow:0 8px 32px #00000040}.expanded-player-album-meta{text-align:center}.expanded-player-album-title{font-size:32px;font-weight:700;color:var(--text-blend);margin:0 0 8px;mix-blend-mode:difference}.expanded-player-album-details{font-size:16px;color:var(--text-secondary);margin:0 0 8px}.expanded-player-album-character{font-size:14px;font-style:italic;color:#00000073;max-width:500px;margin:0 auto}.expanded-player-visualization-section{width:100%;max-width:800px;display:flex;flex-direction:column;gap:16px}.visualization-mode-toggle{display:flex;justify-content:center;gap:8px}.visualization-mode-toggle button{padding:8px 16px;border:1px solid rgba(0,0,0,.18);background:#fff9;color:var(--text-secondary);border-radius:999px;cursor:pointer;transition:all .2s ease;font-size:14px}.visualization-mode-toggle button:hover{background:#d4af371f}.visualization-mode-toggle button.active{background:#d4af3733;border-color:#d4af3780;color:#000000e6}.expanded-player-controls-section{width:100%;max-width:600px;display:flex;flex-direction:column;gap:16px}@media (max-width: 768px){.expanded-player-modal{width:95%;height:90vh;border-radius:16px}.expanded-player-content{padding:40px 24px;gap:24px}.expanded-player-album-container{width:280px;height:280px}.expanded-player-album-title{font-size:24px}}@media (prefers-reduced-motion: reduce){.expanded-player-backdrop,.expanded-player-modal,.expanded-player-close,.expanded-player-minimize,.expanded-player-close:hover,.expanded-player-minimize:hover,.visualization-mode-toggle button{animation:none;transition:none;transform:translate(-50%,-50%)}}@keyframes playerExpand{0%{transform:scale(.3) translateY(50vh);opacity:.5}to{transform:scale(1) translateY(0);opacity:1}}@keyframes playerMinimize{0%{transform:scale(1) translateY(0);opacity:1}to{transform:scale(.3) translateY(50vh);opacity:.5}}body.player-expanded{overflow:hidden}.expanded-player-modal *:focus{outline:2px solid rgba(212,175,55,.6);outline-offset:2px}.mini-player-loading{opacity:0;transition:opacity .3s ease}.mini-player-loaded{opacity:1}.debug-panel{position:fixed;bottom:80px;right:20px;z-index:10000}.debug-toggle-btn{width:50px;height:50px;border-radius:50%;background:#2196f3e6;color:#fff;border:2px solid rgba(255,255,255,.3);font-size:20px;cursor:pointer;box-shadow:0 4px 8px #0000004d;transition:all .3s ease}.debug-toggle-btn:hover{background:#2196f3;transform:scale(1.1)}.debug-panel-content{position:absolute;bottom:60px;right:0;width:600px;max-height:80vh;background:#14141efa;border:2px solid rgba(255,255,255,.2);border-radius:12px;box-shadow:0 8px 24px #00000080;display:flex;flex-direction:column;overflow:hidden}.debug-header{padding:15px 20px;border-bottom:1px solid rgba(255,255,255,.1);background:#ffffff0d}.debug-header h3{margin:0 0 10px;color:#fff;font-size:1.1em}.debug-actions{display:flex;gap:10px}.debug-btn{padding:6px 12px;background:#2196f3cc;color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:4px;cursor:pointer;font-size:.85em;transition:background .2s ease}.debug-btn:hover:not(:disabled){background:#2196f3}.debug-btn:disabled{opacity:.4;cursor:not-allowed}.debug-btn.danger{background:#f44336cc}.debug-btn.danger:hover:not(:disabled){background:#f44336}.debug-btn.small{padding:4px 8px;font-size:.8em}.debug-stats{display:flex;gap:15px;padding:15px 20px;background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.1)}.stat-item{display:flex;gap:8px;align-items:center}.stat-label{font-size:.85em;color:#ffffffb3}.stat-value{font-weight:600;font-size:1.1em;color:#ffffffe6}.stat-value.success{color:#4caf50}.stat-value.error{color:#f44336}.debug-logs-list{flex:1;overflow-y:auto;padding:10px}.debug-empty{padding:40px;text-align:center;color:#ffffff80;font-style:italic}.debug-log-item{margin-bottom:10px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:6px;overflow:hidden}.debug-log-summary{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;cursor:pointer;transition:background .2s ease}.debug-log-summary:hover{background:#ffffff14}.log-summary-left,.log-summary-right{display:flex;align-items:center;gap:10px}.log-status{font-size:1.2em;font-weight:700}.log-status.success{color:#4caf50}.log-status.error{color:#f44336}.log-id{font-family:monospace;font-size:.85em;color:#fffc}.log-time{font-size:.8em;color:#fff9}.log-duration{font-family:monospace;font-size:.85em;color:#ffffffb3}.log-expand{font-size:.8em;color:#ffffff80}.debug-log-details{padding:15px;background:#0000004d;border-top:1px solid rgba(255,255,255,.1)}.log-details-section{margin-bottom:15px}.log-details-section h4{margin:0 0 8px;font-size:.9em;color:#ffffffe6}.log-details-section.error h4{color:#f44336}.log-details-section pre{background:#0006;padding:10px;border-radius:4px;font-size:.75em;color:#fffc;overflow-x:auto;max-height:200px;overflow-y:auto}.log-actions{display:flex;gap:10px;margin-top:10px;padding-top:10px;border-top:1px solid rgba(255,255,255,.1)}@media (max-width: 768px){.debug-panel-content{width:calc(100vw - 40px);right:-280px}.debug-toggle-btn{width:45px;height:45px;font-size:18px}}:root{font-family:Noto Sans JP,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;--bg-primary: #ffffff;--bg-secondary: rgba(255, 255, 255, .92);--bg-tertiary: rgba(0, 0, 0, .02);--border-color: rgba(0, 0, 0, .1);--surface-paper: rgba(255, 255, 255, .96);--surface-porcelain: rgba(255, 255, 255, .98);--surface-glass: rgba(255, 255, 255, .8);--surface-glass-strong: rgba(255, 255, 255, .94);--text-primary: #0F0F0F;--text-secondary: rgba(0, 0, 0, .55);--text-blend: #F7F7F7;--accent-primary: #D4AF37;--accent-hover: #C7A02E;--accent-input: #D4AF37;--accent-album: #D4AF37;--accent-music: #D4AF37;--accent-success: rgba(0, 0, 0, .05);--accent-danger: rgba(0, 0, 0, .08);--accent-processing: rgba(0, 0, 0, .03);--gold: #D4AF37;--shadow: rgba(0, 0, 0, .1);--shadow-soft: rgba(0, 0, 0, .06)}*{box-sizing:border-box}body{margin:0;padding:0;background:var(--bg-primary);color:var(--text-primary);line-height:1.65;font-size:16px;min-height:100vh;overflow:hidden;letter-spacing:.01em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-container{max-width:1200px;margin:0 auto;padding:20px;height:100%;overflow-y:auto}header{text-align:center;padding:32px 20px 24px;border-bottom:1px solid var(--border-color);margin-bottom:24px}header h1{font-size:clamp(28px,5vw,42px);margin:0 0 10px;color:var(--text-primary)}.subtitle{font-size:clamp(14px,3vw,18px);color:var(--text-secondary);margin:0}.primary-focus{margin-top:24px;display:flex;flex-direction:column;gap:16px;align-items:center}.primary-focus-title{font-size:12px;letter-spacing:.2em;text-transform:uppercase;color:var(--text-secondary)}.primary-focus-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;width:100%;max-width:860px}.focus-card{display:flex;align-items:center;gap:14px;padding:16px 18px;border-radius:16px;background:#ffffffbf;border:1px solid rgba(0,0,0,.08);box-shadow:0 10px 24px #00000014;text-align:left}.focus-card h3{margin:0 0 4px;font-size:16px;font-weight:600}.focus-card p{margin:0;font-size:13px;color:var(--text-secondary)}.focus-step{width:36px;height:36px;border-radius:12px;border:1px solid rgba(0,0,0,.35);background:#d4af3733;color:#000c;display:inline-flex;align-items:center;justify-content:center;font-size:12px;font-weight:600;letter-spacing:.08em}main{display:grid;gap:30px}@media (min-width: 768px){main{grid-template-columns:1fr 1fr}}section{background:var(--surface-paper);border:1px solid var(--border-color);border-radius:16px;padding:28px;box-shadow:0 6px 18px var(--shadow-soft);backdrop-filter:blur(18px)}@media (max-width: 767px){section{padding:20px}}section h2{font-size:clamp(20px,4vw,24px);margin:0 0 20px;color:var(--text-primary);border-bottom:1px solid var(--border-color);padding-bottom:12px;letter-spacing:.04em}section h3{font-size:clamp(16px,3.5vw,20px);margin:20px 0 10px}.control-group{margin-bottom:20px}.control-group label{display:block;margin-bottom:8px;font-weight:600;color:var(--text-secondary);font-size:14px}select{width:100%;padding:12px 16px;border-radius:10px;border:1px solid var(--border-color);background:var(--surface-porcelain);color:var(--text-primary);font-size:16px;cursor:pointer;transition:all .2s ease}select:hover:not(:disabled){border-color:var(--accent-input)}select:focus{outline:2px solid rgba(0,0,0,.2);outline-offset:3px;box-shadow:0 0 0 4px #d4af3729}button:focus-visible,select:focus-visible,input:focus-visible,textarea:focus-visible,a:focus-visible{outline:2px solid rgba(0,0,0,.25);outline-offset:3px;box-shadow:0 0 0 4px #d4af371f}select:disabled{opacity:.5;cursor:not-allowed}.timer-display{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:12px;padding:20px;text-align:center;margin-bottom:24px}.timer-label{display:block;font-size:14px;color:var(--text-secondary);margin-bottom:5px}.timer-value{display:block;font-size:32px;font-weight:700;color:var(--accent-input)}.button-group{display:flex;flex-wrap:wrap;gap:12px;margin-top:20px}button,.btn{padding:12px 22px;border-radius:999px;border:1px solid rgba(0,0,0,.12);background:#fff;color:var(--text-primary);font-size:15px;cursor:pointer;transition:background .15s ease,border-color .15s ease,color .15s ease;font-weight:500;flex:1;min-width:fit-content;letter-spacing:.02em}@media (max-width: 480px){button,.btn{width:100%;flex:1 1 100%}}button:hover:not(:disabled),.btn:hover:not(:disabled){background:#0000000a;border-color:#0000002e}button:active:not(:disabled),.btn:active:not(:disabled){background:#0000000f}button:disabled,.btn:disabled{opacity:.5;cursor:not-allowed;transform:none}.btn-primary{background:#111;border-color:#111;color:#fff}.btn-primary:hover:not(:disabled){background:#000;border-color:#000}.btn-secondary{background:#fff;border-color:#0000002e;color:var(--text-primary)}.btn-success{background:#111;border-color:#111;color:#fff}.btn-success:hover:not(:disabled){background:#000;border-color:#000}.btn-outline{background:transparent}.error-message{background:#00000008;border:1px solid rgba(0,0,0,.15);border-radius:12px;padding:16px;margin-bottom:20px;color:var(--text-primary);text-align:center}.error-container{background:#f443360d;border:1px solid var(--accent-danger);border-radius:8px;padding:20px;margin-top:20px}.error-details{margin-bottom:20px}.error-title{font-size:18px;font-weight:600;color:#000000b3;margin:0 0 12px}.error-code{font-family:monospace;font-size:14px;color:var(--text-secondary);margin:8px 0}.error-message{color:#000000b3;margin:8px 0}.retry-count,.retry-info{color:var(--text-secondary);font-size:14px;margin:8px 0}.error-actions{margin:20px 0;justify-content:center}.fallback-help{text-align:center;color:var(--text-secondary);font-size:14px;margin-top:16px;font-style:italic}.success-message{background:#d4af3714;border:1px solid rgba(212,175,55,.35);border-radius:12px;padding:16px;margin-bottom:20px;color:var(--text-primary);text-align:center;animation:slideIn .8s cubic-bezier(.4,0,.2,1)}@keyframes slideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.loading-indicator{text-align:center;padding:40px 20px}.loading-indicator p{margin:8px 0}.job-id{font-family:monospace;font-size:12px;color:var(--text-secondary);opacity:.7}.spinner{border:4px solid var(--border-color);border-top:4px solid var(--accent-input);border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite;margin:0 auto 20px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion: reduce){.spinner{animation:none;border-top-color:var(--accent-input);border-right-color:var(--accent-input)}}.preview-container{margin-top:30px;text-align:center}.preview-image{max-width:100%;height:auto;border:1px solid var(--border-color);border-radius:8px;box-shadow:0 8px 16px var(--shadow);margin-top:15px}footer{text-align:center;padding:40px 20px;margin-top:40px;border-top:1px solid var(--border-color);color:var(--text-secondary);font-size:14px}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}@media (prefers-contrast: high){:root{--border-color: #fff;--text-secondary: #fff}}*:focus-visible{outline:2px solid var(--accent-input);outline-offset:2px}.external-generation{background:var(--surface-glass);border:1px solid rgba(0,0,0,.12);border-radius:16px;padding:30px;margin-top:30px}.external-generation h2{color:var(--text-primary);mix-blend-mode:difference;letter-spacing:.08em;margin-top:0}.section-description{color:var(--text-secondary);font-size:14px;margin-bottom:20px;font-style:italic}.job-id{font-size:12px;color:var(--text-secondary);font-family:monospace;margin-top:5px}.preview-image[crossorigin]{max-width:100%;height:auto}.analysis-status{background:var(--bg-primary);border:1px solid rgba(0,0,0,.12);border-radius:12px;padding:15px;margin:15px 0;text-align:center;position:relative;overflow:hidden}.analysis-status:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;border:2px solid var(--gold);opacity:0;transform:translate(-50%,-50%);animation:analysisRipple 2s ease-out infinite}.analysis-status:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;border:2px solid var(--gold);opacity:0;transform:translate(-50%,-50%);animation:analysisRipple 2s ease-out infinite 1s}@keyframes analysisRipple{0%{width:0;height:0;opacity:.6}to{width:300px;height:300px;opacity:0}}.analysis-result{background:linear-gradient(135deg,#0000000a,#00000005);color:var(--text-primary);border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 4px 12px #00000014}.analysis-result h3{margin-top:0;color:var(--text-primary);mix-blend-mode:difference;font-size:18px}.analysis-details{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:15px}.analysis-details p{margin:0;background:#fff9;padding:10px;border-radius:8px;font-size:14px}.analysis-details p strong{display:block;margin-bottom:5px;font-size:12px;opacity:.7}@media (max-width: 600px){.analysis-details{grid-template-columns:1fr}}.progress-flow{display:flex;align-items:center;justify-content:center;gap:16px;padding:20px;margin:20px 0;background:#00000005;border:1px solid rgba(0,0,0,.08);border-radius:16px}.progress-step{display:flex;flex-direction:column;align-items:center;gap:8px;min-width:100px;transition:all .3s ease}.progress-step.active{transform:scale(1.1)}.progress-step .step-icon{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;background:#00000008;border:1px solid rgba(0,0,0,.1);color:var(--text-secondary);transition:all .3s ease}.progress-step.active .step-icon{background:#d4af3733;border-color:#d4af3799;color:var(--accent-input);animation:pulse 1.5s ease-in-out infinite}.progress-step.completed .step-icon{background:#0000000d;border-color:#0003;color:var(--text-secondary)}.progress-step .step-label{font-size:13px;color:var(--text-secondary);text-align:center;white-space:nowrap}.progress-step.active .step-label{color:var(--accent-input);font-weight:600}.progress-step.completed .step-label{color:var(--text-secondary)}.progress-arrow{font-size:24px;color:#00000040;font-weight:700}@keyframes pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}@media (max-width: 600px){.progress-flow{gap:8px;padding:16px}.progress-step{min-width:80px}.progress-step .step-icon{width:40px;height:40px;font-size:16px}.progress-step .step-label{font-size:12px}.progress-arrow{font-size:18px}}.music-info{padding:20px}.current-track{background:#00000008;border:1px solid rgba(0,0,0,.12);border-radius:16px;padding:22px;margin-bottom:30px}.current-track h2{margin-top:0;color:var(--text-primary);letter-spacing:.02em}.track-details{margin:15px 0}.track-details p{margin:8px 0;color:#000000b3}.music-hint{font-size:14px;color:#0009;font-style:italic;margin-top:15px}.no-selection{padding:40px;text-align:center;color:#0009}.music-library{background:var(--surface-glass);border:1px solid var(--border-color);border-radius:16px;padding:22px}.music-library h2{margin-top:0;color:var(--text-primary);letter-spacing:.02em}.music-actions{display:flex;gap:10px;align-items:center;margin-top:14px}.music-list{list-style:none;padding:0;margin:20px 0 0}.music-list li{padding:12px;border-bottom:1px solid rgba(0,0,0,.1);display:flex;flex-direction:column;gap:4px;cursor:pointer;border-radius:10px}.music-list li:hover{background:#00000008}.music-list li:focus{outline:2px solid rgba(0,0,0,.25);outline-offset:2px}.music-list li.selected{background:#0000000a;border-left:3px solid rgba(0,0,0,.65)}.music-title{font-weight:500;color:#000000d9}.music-meta{font-size:13px;color:#0009}.airia-stage{position:relative;isolation:isolate}.airia-stage>header,.airia-stage>main,.airia-stage>footer,.airia-stage>.error-message,.airia-stage>.success-message{position:relative;z-index:2}.airia-atmosphere{position:fixed;inset:0;pointer-events:none;z-index:0}.airia-atmosphere canvas{position:absolute;inset:0;width:100%;height:100%}.airia-glass-canvas{mix-blend-mode:soft-light;opacity:.7;filter:blur(.4px)}.airia-dust-canvas{mix-blend-mode:screen;opacity:.9}.airia-stage.idle .airia-dust-canvas{opacity:0}.airia-stage.safe-zone .airia-atmosphere{opacity:.5;filter:grayscale(.2)}.darkroom-overlay{position:fixed;inset:0;background:radial-gradient(circle at 50% 45%,#ffffff0d,#0a0a0ad9,#000000f2);animation:darkroomReveal 2.6s ease-in-out;z-index:1;pointer-events:none}@keyframes darkroomReveal{0%{opacity:0}35%{opacity:.8}to{opacity:.55}}.airia-cursor-active{cursor:none}.airia-cursor-trail{position:fixed;inset:0;pointer-events:none;z-index:3}.airia-fluid-cursor{position:fixed;top:0;left:0;width:32px;height:32px;pointer-events:none;z-index:4;transition:transform .2s ease-out}.airia-fluid-cursor .cursor-core{position:absolute;width:12px;height:12px;border-radius:50%;background:#ffffffe6;box-shadow:0 0 12px #d4af3799;top:50%;left:50%;transform:translate(-50%,-50%)}.airia-fluid-cursor .cursor-ring{position:absolute;width:32px;height:32px;border-radius:50%;border:1px solid rgba(212,175,55,.5);top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 16px #d4af3766;animation:cursorBreath 3.6s ease-in-out infinite}.airia-fluid-cursor.magnetized .cursor-ring{border-color:#d4af37cc;box-shadow:0 0 24px #d4af37cc}@keyframes cursorBreath{0%,to{transform:translate(-50%,-50%) scale(.9);opacity:.7}50%{transform:translate(-50%,-50%) scale(1.15);opacity:1}}.airia-stage button:hover:not(:disabled),.airia-stage button:focus-visible,.airia-stage select:hover:not(:disabled),.airia-stage select:focus-visible{animation:breathePulse 3.8s ease-in-out infinite}@keyframes breathePulse{0%,to{box-shadow:0 0 #d4af3733}50%{box-shadow:0 0 20px #d4af3773}}@media (prefers-reduced-motion: reduce){.airia-fluid-cursor,.airia-cursor-trail{display:none}.darkroom-overlay{animation:none}}.button,button:not(.unstyled){position:relative;transition:background .15s ease,border-color .15s ease}.button:focus-visible,button:not(.unstyled):focus-visible{outline:2px solid #D4AF37;outline-offset:4px}.button:disabled,button:not(.unstyled):disabled{opacity:.5;cursor:not-allowed}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}.geometric-pattern,.visual-decoration{display:none!important}}@media (prefers-contrast: high){.button,button:not(.unstyled){border:2px solid currentColor}.button:focus-visible,button:not(.unstyled):focus-visible{outline-width:3px}}.skip-to-main{position:absolute;top:-40px;left:0;background:#d4af37;color:#000;padding:8px 16px;text-decoration:none;z-index:100000}.skip-to-main:focus{top:0}a:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:2px solid #D4AF37;outline-offset:2px}:root{--color-text-primary: #1a1a1a;--color-text-secondary: #666666;--color-background: #ffffff;--color-surface: #f5f5f5;--color-accent: #D4AF37;--color-accent-dark: #B8941E}@media (prefers-color-scheme: dark){:root{--color-text-primary: #ffffff;--color-text-secondary: #cccccc;--color-background: #1a1a1a;--color-surface: #2a2a2a}}
